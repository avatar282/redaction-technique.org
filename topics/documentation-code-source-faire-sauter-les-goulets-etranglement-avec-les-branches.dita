<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE topic PUBLIC "-//OASIS//DTD DITA 1.2 Topic//EN" "/usr/share/dita-ot/dtd/technicalContent/dtd/topic.dtd">
<topic id="faire-sauter-les-goulets-etranglement-avec-les-branches" xml:lang="fr-fr">
  <title>Faire sauter les goulets d'étranglement avec les
  branches</title>
  <body>
    <p>
      Les branches <b>Git</b> permettent de facilement effectuer en parallèle
      plusieurs tâches non liées :
    </p>
    <p>
      Imaginons le scénario de travail suivant :
    </p>
    <ul>
      <li>
        On vous demande de migrer une section d'un document à un autre.
      </li>
      <li>
        Vous envoyez votre proposition pour validation.
      </li>
      <li>
        La validation se fait attendre et vous devez avancer sur d'autres
        parties des documents.
      </li>
    </ul>
    <p>
      Comment faire sauter ce goulot d'étranglement ? C'est (relativement)
      simple :
    </p>
    <ol>
      <li>
        Par défaut, vous travaillez sur la branche <b>master</b>. Votre espace
        de travail contient des modifications que vous ne souhaitez pas
        <b>committer</b> avant validation.
      </li>
      <li>
        Créez une nouvelle branche : <b>git checkout -b ma-branche</b>.
      </li>
      <li>
        <b>Committez</b> vos modifications sur la nouvelle branche : <b>git add
        mes-fichiers</b>, <b>git commit -m &quot;mon message de
        commit&quot;</b>.
      </li>
      <li>
        Vous repassez sur la branche master <b>git checkout master</b> et passez
        à votre deuxième tâche. 5a. Si votre première tâche n'est pas validée,
        vous repassez sur la branche provisoire : <b>git checkout ma-branche</b>
        et faites un nouveau commit (que vous pourrez fusionner avec le ou les
        précédents après validation).
      </li>
      <li>
        Lorsque vous recevez la validation de la première tâche, vous mettez
        votre travail en cours de côté : <b>git stash</b>.
      </li>
      <li>
        Vous fusionnez la branche provisoire avec la branche master : <b>git
        merge ma-branche</b>.
      </li>
      <li>
        Vous récupérez votre travail en cours : <b>git stash pop</b>.
      </li>
    </ol>
    <p>
      Si vous n'avez pas besoin d'effectuer deux lots de tâches en parallèle,
      vous pouvez sans problème travailler dans votre espace local. Si vous
      devez revenir sur vos modifications, appellez la commande <b>git reset
      --hard HEAD</b> pour écraser vos fichiers non <b>commités</b> du
      répertoire local par ceux du dernier <b>commit</b>.
    </p>
  </body>
</topic>
